<section class="cron-editor-main">
  <mat-tab-group class="cron-editor-container" (selectedIndexChange)="onTabFocus($event)" [backgroundColor]="backgroundColor" [color]="color">

    <!-- Minute -->
    <mat-tab class="cron-editor-tab" i18n-label="@@minutesLabel" label="Минуты" *ngIf="!options.hideMinutesTab">
      <div class="cron-editor-tab-content">
        <span class="cron-form-label" i18n="@@eachFemaleLabel">Каждую</span>
        <cron-time-picker
          [formGroup]="minutesForm"
          [use24HourTime]="options.use24HourTime"
          [hideHours]="true"
          [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz">
        </cron-time-picker>
      </div>
    </mat-tab>

    <!-- Hourly -->
    <mat-tab class="cron-editor-tab" i18n-label="@@hoursLabel" label="Часы" *ngIf="!options.hideHourlyTab">
      <div class="cron-editor-tab-content">
        <span class="cron-form-label" i18n="@@eachMaleLabel">Каждый</span>
        <cron-time-picker [formGroup]="hourlyForm"
                          [use24HourTime]="options.use24HourTime"
                          [hideSeconds]="options.hideSeconds ||  !isCronFlavorQuartz">
        </cron-time-picker>
      </div>
    </mat-tab>

    <!-- Daily-->
    <mat-tab class="cron-editor-tab" i18n-label="@@daysLabel" label="Дни" *ngIf="!options.hideDailyTab">
      <div class="cron-editor-tab-content" [formGroup]="dailyForm">

        <mat-radio-group class="cron-editor-radio-group" formControlName="subTab">
          <mat-radio-button name="subTab" class="cron-editor-radio-button" value="everyDays" [ngClass]="state.formRadioClass" checked="checked">

            <span class="cron-form-label" i18n="@@eachMaleLabel">Каждый</span>

            <mat-form-field formGroupName="everyDays">
              <mat-label i18n="@@daySPlLabel">Дни</mat-label>
              <mat-select formControlName="days">
                <mat-option *ngFor="let monthDay of selectOptions.monthDays" [value]="monthDay">
                  {{monthDay}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <span class="cron-form-field-joiner" i18n="@@atPrep">в</span>

            <cron-time-picker
              formGroupName="everyDays"
              [use24HourTime]="options.use24HourTime"
              [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz">
            </cron-time-picker>

          </mat-radio-button>

          <mat-radio-button name="subTab" class="cron-editor-radio-button" value="everyWeekDay" [ngClass]="state.formRadioClass">

            <span class="cron-form-label" i18n="@@eachWorkingDayWithTimePrepLabel">Каждый рабочий день в</span>

            <cron-time-picker
              formGroupName="everyWeekDay"
              [use24HourTime]="options.use24HourTime"
              [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz">
            </cron-time-picker>

          </mat-radio-button>
        </mat-radio-group>
      </div>
    </mat-tab>

    <!-- Weekly-->
    <mat-tab  class="cron-editor-tab" i18n-label="@@weeksLabel" label="Недели" *ngIf="!options.hideWeeklyTab">
      <div class="cron-editor-tab-content">

        <div>
          <span class="cron-form-label" i18n="@@eachMaleLabel">Каждый</span>

          <span [formGroup]="weeklyForm" class="cron-form-week-days">
            <mat-checkbox class="checkbox-margin" formControlName="MON" i18n="@@mondayLabel">Понедельник</mat-checkbox>
            <mat-checkbox class="checkbox-margin" formControlName="TUE" i18n="@@tuesdayLabel">Вторник</mat-checkbox>
            <mat-checkbox class="checkbox-margin" formControlName="WED" i18n="@@wednesdayLabel">Среда</mat-checkbox>
            <mat-checkbox class="checkbox-margin" formControlName="THU" i18n="@@thursdayLabel">Четверг</mat-checkbox>
            <mat-checkbox class="checkbox-margin" formControlName="FRI" i18n="@@fridayLabel">Пятница</mat-checkbox>
            <mat-checkbox class="checkbox-margin" formControlName="SAT" i18n="@@saturdayLabel">Суббота</mat-checkbox>
            <mat-checkbox class="checkbox-margin" formControlName="SUN" i18n="@@sundayLabel">Воскресенье</mat-checkbox>
          </span>
        </div>

        <span class="cron-form-label" i18n="@@atPrepCapital">В</span>

        <cron-time-picker [formGroup]="weeklyForm"
                          [use24HourTime]="options.use24HourTime"
                          [hideSeconds]="options.hideSeconds|| !isCronFlavorQuartz">
        </cron-time-picker>
      </div>
    </mat-tab>

    <!-- Monthly-->
    <mat-tab class="cron-editor-tab" i18n-label="@@monthsLabel" label="Месяцы" *ngIf="!options.hideMonthlyTab">
      <div class="cron-editor-tab-content" [formGroup]="monthlyForm">
        <mat-radio-group class="cron-editor-radio-group" formControlName="subTab">

          <mat-radio-button name="monthly-radio" class="cron-editor-radio-button" value="specificDay" [ngClass]="state.formRadioClass">
            <!-- Specific day -->
            <span formGroupName="specificDay">

              <span class="cron-form-label" i18n="@@onPrepCapital">В</span>

              <ng-container *ngIf="options.cronFlavor === 'quartz'">
                <mat-form-field>
                  <mat-label i18n="@@dayLabel">День</mat-label>
                  <mat-select class="month-days" formControlName="day">
                    <mat-option *ngFor="let monthDaysWithLast of selectOptions.monthDaysWithLasts" [value]="monthDaysWithLast">
                      {{monthDayDisplay(monthDaysWithLast)}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </ng-container>

              <ng-container *ngIf="options.cronFlavor === 'standard'">
                <mat-form-field>
                  <mat-label i18n="@@dayLabel">День</mat-label>
                  <mat-select class="month-days"  formControlName="day">
                    <mat-option *ngFor="let monthDaysWithOutLast of selectOptions.monthDaysWithOutLasts" [value]="monthDaysWithOutLast">
                      {{monthDayDisplay(monthDaysWithOutLast)}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </ng-container>

              <span class="cron-form-field-joiner" i18n="@@ofEveryLabel">каждого</span>

              <ng-container>
                <mat-form-field>
                  <mat-label i18n="@@monthLabel">Месяц</mat-label>
                  <mat-select class="months-small" formControlName="months" [ngClass]="options.formSelectClass">
                    <mat-option *ngFor="let month of selectOptions.months" [value]="month">
                      {{month}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </ng-container>

              <span class="cron-form-field-joiner" i18n="@@atPrep">в</span>

              <cron-time-picker [disabled]="disabled" [formGroup]="monthlyForm.controls.specificDay"
                                [use24HourTime]="options.use24HourTime"
                                [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz">
              </cron-time-picker>
            </span>
          </mat-radio-button>

          <mat-radio-button name="monthly-radio" class="cron-editor-radio-button" value="specificWeekDay" [ngClass]="state.formRadioClass">
            <!-- Specific Week day -->
            <span formGroupName="specificWeekDay">

              <span class="cron-form-label" i18n="@@onPrepCapital">В</span>

              <mat-form-field>
                <mat-label i18n="@@weekLabel">Неделя</mat-label>
                <mat-select class="day-order-in-month" formControlName="monthWeek" [ngClass]="options.formSelectClass">
                  <mat-option *ngFor="let monthWeek of selectOptions.monthWeeks" [value]="monthWeek">
                    {{monthWeekDisplay(monthWeek)}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field>
                <mat-label i18n="@@dayLabel">День</mat-label>
                <mat-select class="week-days" formControlName="day" [ngClass]="options.formSelectClass">
                  <mat-option *ngFor="let day of selectOptions.days" [value]="day">
                    {{dayDisplay(day)}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <span class="cron-form-field-joiner" i18n="@@ofEveryLabel">каждого</span>

              <mat-form-field>
                <mat-label i18n="@@monthLabel">Месяц</mat-label>
                <mat-select class="months-small" formControlName="months">
                  <mat-option *ngFor="let month of selectOptions.months" [value]="month">
                    {{month}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <span class="cron-form-field-joiner" i18n="@@atPrep">в</span>

              <cron-time-picker [formGroup]="monthlyForm.controls.specificWeekDay"
                                [use24HourTime]="options.use24HourTime"
                                [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz">
              </cron-time-picker>
            </span>
          </mat-radio-button>

        </mat-radio-group>
      </div>
    </mat-tab>

    <!-- Yearly-->
    <mat-tab class="cron-editor-tab" i18n-label="@@yearsLabel" label="Года" *ngIf="!options.hideYearlyTab">
      <div class="cron-editor-tab-content" [formGroup]="yearlyForm">
        <mat-radio-group class="cron-editor-radio-group" formControlName="subTab">
          <mat-radio-button name="yearly-radio" class="cron-editor-radio-button" value="specificMonthDay" [ngClass]="state.formRadioClass">

            <span class="cron-form-label" i18n="@@onPrepCapital">В</span>

            <mat-form-field formGroupName="specificMonthDay" *ngIf="options.cronFlavor === 'quartz'">
              <mat-label i18n="@@dayLabel">День</mat-label>
              <mat-select class="month-days" formControlName="day">
                <mat-option *ngFor="let monthDaysWithLast of selectOptions.monthDaysWithLasts" [value]="monthDaysWithLast">
                  {{monthDayDisplay(monthDaysWithLast)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field formGroupName="specificMonthDay" *ngIf="options.cronFlavor === 'standard'">
              <mat-label i18n="@@dayLabel">День</mat-label>
              <mat-select class="month-days" formControlName="day" >
                <mat-option *ngFor="let monthDaysWithOutLast of selectOptions.monthDaysWithOutLasts" [value]="monthDaysWithOutLast">
                  {{monthDayDisplay(monthDaysWithOutLast)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <span class="cron-form-field-joiner" i18n="@@ofPrep"></span>

            <mat-form-field formGroupName="specificMonthDay">
              <mat-label i18n="@@monthLabel">Месяц</mat-label>
              <mat-select class="months" formControlName="month">
                <mat-option *ngFor="let month of selectOptions.months" [value]="month">
                  {{monthDisplay(month)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <span class="cron-form-field-joiner" i18n="@@atPrep">в</span>

            <cron-time-picker [disabled]="disabled"
                              [formGroup]="yearlyForm.controls.specificMonthDay"
                              [use24HourTime]="options.use24HourTime"
                              [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz">
            </cron-time-picker>
          </mat-radio-button>

          <mat-radio-button name="yearly-radio" class="cron-editor-radio-button" value="specificMonthWeek" [ngClass]="state.formRadioClass">

            <span class="cron-form-label" i18n="@@onPrepCapital">В</span>

            <mat-form-field formGroupName="specificMonthWeek">
              <mat-label i18n="@@weekLabel">Неделя</mat-label>
              <mat-select class="day-order-in-month" formControlName="monthWeek" >
                <mat-option *ngFor="let monthWeek of selectOptions.monthWeeks" [value]="monthWeek">
                  {{monthWeekDisplay(monthWeek)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field formGroupName="specificMonthWeek">
              <mat-label i18n="@@dayLabel">День</mat-label>
              <mat-select class="week-days"  formControlName="day" >
                <mat-option *ngFor="let day of selectOptions.days" [value]="day">
                  {{dayDisplay(day)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <span class="cron-form-field-joiner" i18n="@@ofPrep"></span>

            <mat-form-field formGroupName="specificMonthWeek">
              <mat-label i18n="@@monthLabel">Месяц</mat-label>
              <mat-select class="months" formControlName="month">
                <mat-option *ngFor="let month of selectOptions.months" [value]="month">
                  {{monthDisplay(month)}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <span class="cron-form-field-joiner" i18n="@@atPrep">в</span>

            <cron-time-picker [disabled]="disabled"
                              [formGroup]="yearlyForm.controls.specificMonthWeek"
                              [use24HourTime]="options.use24HourTime"
                              [hideSeconds]="options.hideSeconds || !isCronFlavorQuartz">
            </cron-time-picker>
          </mat-radio-button>
        </mat-radio-group>
      </div>
    </mat-tab>

    <!-- Advanced-->
    <mat-tab class="cron-editor-tab" i18n-label="@@expressionLabel" label="Выражение" *ngIf="!options.hideAdvancedTab">
      <div class="cron-editor-tab-content" [formGroup]="advancedForm">
        <mat-form-field>
          <mat-label i18n="@@expressionLabel">Выражение</mat-label>
          <input matInput type="text" class="advanced-cron-editor-input" formControlName="expression">
        </mat-form-field>
      </div>
    </mat-tab>
  </mat-tab-group>
</section>
